{"data":{"site":{"siteMetadata":{"title":"Borealis Digital Studio blog","company":"Borealis Digital Studio"}},"markdownRemark":{"id":"42ff27dc-7124-5ca6-973a-a4e4b10730b2","excerpt":"PrerequisitesGitLet’s get startedInstall nvmYou can skip this if you already have a working node installation, however I would still recommend using it.This is…","html":"<h2>Prerequisites</h2>\n<ul>\n<li><a href=\"https://git-scm.com/\">Git</a></li>\n</ul>\n<h2>Let’s get started</h2>\n<h3>Install nvm</h3>\n<blockquote>\n<p>You can skip this if you already have a working node installation, however I would still recommend using it.</p>\n</blockquote>\n<p>This is a node version manager. It will allow you to install different versions of node on your machine and set the version per project you are working on.</p>\n<p>On mac/linux run the following command in your terminal</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token function\">curl</span> -o- https://raw.githubusercontent.com/creationix/nvm/v0.33.0/install.sh <span class=\"token operator\">|</span> <span class=\"token function\">bash</span></code></pre></div>\n<p>On Windows have a look at <a href=\"https://github.com/coreybutler/nvm-windows\">nvm-windows</a></p>\n<p>Pick a location for your blog, we’ll put it in <code class=\"language-text\">~/git/personal/blog</code></p>\n<p>Next up use nvm to install the latest, or a desired node version:</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">nvm <span class=\"token function\">install</span> 12.2.0 <span class=\"token comment\"># This was the latest at the time of writing</span></code></pre></div>\n<p>You can verify the node version for the current directory with <code class=\"language-text\">nvm current</code></p>\n<p>Other useful nvm commands</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">nvm <span class=\"token function\">ls</span> <span class=\"token comment\"># Versions installed on your system</span>\nnvm ls-remote <span class=\"token comment\"># All versions available for installation</span>\nnvm <span class=\"token function\">install</span> VERSON_OF_NODE <span class=\"token comment\"># Install a specific version of node</span>\nnvm use VERSON_OF_NODE <span class=\"token comment\"># Set the node version for the folder you're in</span>\nnvm current <span class=\"token comment\"># Show the node version in use (node -v should return the same)</span></code></pre></div>\n<h2>Setup Gatsby</h2>\n<p>Gatsby comes with a nice cli, install it using:</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">install <span class=\"token operator\">-</span>g gatsby<span class=\"token operator\">-</span>cli</code></pre></div>\n<p>run <code class=\"language-text\">gatsby -v</code> to verify the installation at the time of writing: 2.5.12.</p>\n<h3>Choose and install a starter</h3>\n<p>Now we’ll setup a new gatsby site through the cli, using this <a href=\"https://www.gatsbyjs.org/starters/gatsbyjs/gatsby-starter-blog/\">Gatsby starter</a>, have a look at the <a href=\"https://gatsby-starter-blog-demo.netlify.com/\">Preview</a> before you use it.</p>\n<p>If you’d like another one have a look at <a href=\"https://www.gatsbyjs.org/starters/?s=blog&#x26;v=2\">this list of starters</a>.</p>\n<p>After choosing a starter run the following command, this will initialize the blog inside the directory you made earlier.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">gatsby new . https://github.com/gatsbyjs/gatsby-starter-blog</code></pre></div>\n<p>If you want the blog in a new folder replace the <code class=\"language-text\">.</code> with the folder name.</p>\n<h3>verify the installation</h3>\n<p>If all went well your blog has been setup, however it is not running yet. Run <code class=\"language-text\">gatsby develop</code> in your terminal. Now visit <code class=\"language-text\">http://localhost:8000</code> and you should be able to see your bright and shiny new blog</p>\n<h2>Content</h2>\n<p>Of course a blog needs content, in the current setup content is retrieved through markdown files in the <code class=\"language-text\">/content/blog</code> folder so have a look at these if you want some examples.</p>\n<p>Markdown however does not have to be the only way of adding content, more on this later.</p>\n<h3>Adding a new blogpost</h3>\n<p>To add a new post simply add a new folder which contains you post eg: <code class=\"language-text\">/content/blog/dummy-post/dummy-post.md</code></p>\n<p>At the start of the post insert some metadata</p>\n<div class=\"gatsby-highlight\" data-language=\"yml\"><pre class=\"language-yml\"><code class=\"language-yml\"><span class=\"token punctuation\">---</span>\n<span class=\"token key atrule\">title</span><span class=\"token punctuation\">:</span> You're post tile\n<span class=\"token key atrule\">date</span><span class=\"token punctuation\">:</span> Date you are writing the post eg<span class=\"token punctuation\">:</span> <span class=\"token string\">\"2019-05-17T22:40:32.169Z\"</span>\n<span class=\"token key atrule\">description</span><span class=\"token punctuation\">:</span> A small description which will be displayed in the post overview\n<span class=\"token punctuation\">---</span></code></pre></div>\n<p>This data will be displayed somewhere on the blogpost.</p>\n<p>Below the data you can just start writing your blog as you would any mardown file.</p>\n<h3>Altering data</h3>\n<p>Since everyone hase a slightly different use case, the current data provided might not be enough. Let’s change it a bit so it matches what we want to achieve. For our exampel we would like multiple people to write blogposts, it would be nice to have everyone write them in their own name.</p>\n<h4>Graphql</h4>\n<p>We retrieve data using <a href=\"https://graphql.org/\">graphql</a>, to test queries you can use the <a href=\"http://localhost:8000/___graphql\">graphical interface</a>.</p>\n<p>An example can be found on the <code class=\"language-text\">/pages/index.js</code> file At the bottom it has a query which should look like this:</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> pagequery <span class=\"token operator\">=</span> graphql<span class=\"token template-string\"><span class=\"token string\">`\n  query {\n    site {\n      sitemetadata {\n        title\n      }\n    }\n    allmarkdownremark(sort: { fields: [frontmatter___date], order: desc }) {\n      edges {\n        node {\n          excerpt\n          fields {\n            slug\n          }\n          frontmatter {\n            date(formatstring: \"mmmm dd, yyyy\")\n            title\n            description\n          }\n        }\n      }\n    }\n  }\n`</span></span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Our goal is to add some info about the author to every blogpost.</p>\n<h4>1. Provide data in the blogpost</h4>\n<p>This step is rather simple, we just add it at the top of our blogpost.</p>\n<p>eg:</p>\n<div class=\"gatsby-highlight\" data-language=\"yml\"><pre class=\"language-yml\"><code class=\"language-yml\"><span class=\"token punctuation\">---</span>\n<span class=\"token key atrule\">title</span><span class=\"token punctuation\">:</span> You're post tile\n<span class=\"token key atrule\">date</span><span class=\"token punctuation\">:</span> Date you are writing the post eg<span class=\"token punctuation\">:</span> <span class=\"token string\">\"2019-05-17T22:40:32.169Z\"</span>\n<span class=\"token key atrule\">description</span><span class=\"token punctuation\">:</span> A small description which will be displayed in the post overview\n<span class=\"token key atrule\">author</span><span class=\"token punctuation\">:</span> Lewis Fidlers\n<span class=\"token key atrule\">authorSocial</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"https://www.github.com/lewis-fidlers\"</span>\n<span class=\"token punctuation\">---</span></code></pre></div>\n<p>That’s it, the data will now be available for us to query.</p>\n<h4>2. Retrieve the data through your adapted query</h4>\n<p>Navigate to the <a href=\"http://localhost:8000/___graphql\">graphical interface</a>, here we enter our updated query</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">  query <span class=\"token punctuation\">{</span>\n    site <span class=\"token punctuation\">{</span>\n      siteMetadata <span class=\"token punctuation\">{</span>\n        title\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token function\">allMarkdownRemark</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">sort<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span> fields<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span>frontmatter___date<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> order<span class=\"token punctuation\">:</span> <span class=\"token constant\">DESC</span> <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      edges <span class=\"token punctuation\">{</span>\n        node <span class=\"token punctuation\">{</span>\n          excerpt\n          fields <span class=\"token punctuation\">{</span>\n            slug\n          <span class=\"token punctuation\">}</span>\n          frontmatter <span class=\"token punctuation\">{</span>\n            <span class=\"token function\">date</span><span class=\"token punctuation\">(</span>formatString<span class=\"token punctuation\">:</span> <span class=\"token string\">\"MMMM DD, YYYY\"</span><span class=\"token punctuation\">)</span>\n            title\n            description\n            author\n            authorAvatar\n          <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span>\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span></code></pre></div>\n<p>This query requires a slug to find the actual post, so don’t forget to enter this in the query variables section.\nFor us it looks like this, of course you need to fill this in using your own <code class=\"language-text\">/folder/filename.md</code></p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">{\n  &quot;slug&quot;: &quot;/setting-up-a-gatsby-blog/setting-up-a-gatsby-blog/&quot;\n}</code></pre></div>\n<p>If all went well the result will now also return your author and the social link.</p>\n<h4>3. Display it on the blog post</h4>\n<p>For our last step we’d like to update The data displayed int he blog post.</p>\n<p>Open up the <code class=\"language-text\">src/templates/blog-post.js</code> file, this file is “conveniently” a template for every post we make from here on. At the bottom expand the query so it also queries our newly added data, as we did in the previous step.</p>\n<p>The frontmatter part of the query should now look like this:</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">frontmatter <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">date</span><span class=\"token punctuation\">(</span>formatString<span class=\"token punctuation\">:</span> <span class=\"token string\">\"MMMM DD, YYYY\"</span><span class=\"token punctuation\">)</span>\n  title\n  description\n  author\n  authorSocial\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Now move up in the file and change the Bio component.</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Bio</span></span>\n  <span class=\"token attr-name\">author</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>post<span class=\"token punctuation\">.</span>frontmatter<span class=\"token punctuation\">.</span>author<span class=\"token punctuation\">}</span></span>\n  <span class=\"token attr-name\">authorSocial</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>post<span class=\"token punctuation\">.</span>frontmatter<span class=\"token punctuation\">.</span>authorSocial<span class=\"token punctuation\">}</span></span>\n<span class=\"token punctuation\">/></span></span></code></pre></div>\n<p>Here we pass in the new data to the bio component</p>\n<p>For the last step we change the Bio component to display the newly provided info.</p>\n<p>Open up <code class=\"language-text\">src/components/bio.js</code> and change</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\">Written by <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>strong</span><span class=\"token punctuation\">></span></span>{author}<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>strong</span><span class=\"token punctuation\">></span></span> who lives and works in San</code></pre></div>\n<p>With something you want yourself, our example is:</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\">Written by <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>a</span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span>{`${authorSocial}`}</span><span class=\"token punctuation\">></span></span>{author}<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>a</span><span class=\"token punctuation\">></span></span> for <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>strong</span><span class=\"token punctuation\">></span></span>{company}<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>strong</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<h3>That should be about it</h3>\n<p>This should give you an idea of how to setup and change a blog using <a href=\"https://www.gatsbyjs.org/\">Gatsby</a> and one of their starters. It is however still a pretty brief summary of what’s possible so please check out their docs and play with it.\nFeel free to reach out if you have any questions, or if you find anything anything that’s incorrect.</p>","frontmatter":{"title":"Setting up a gatsby blog","date":"April 30, 2019","author":"Lewis Fidlers","authorAvatar":"https://www.gravatar.com/avatar/fba5cc09df8d258978f01f7924611cc6?s=50d=mp","authorEmail":"lewis.fidlers@borealisgroup.com","authorSocial":"https://www.github.com/lewis-fidlers","description":"Setup a Gatsby blog using mardown files as a source"}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/setting-up-a-gatsby-blog/setting-up-a-gatsby-blog/","previous":null,"next":null}}